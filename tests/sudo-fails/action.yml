name: "Sudo fails"

description: "Make sure `sudo` fails"

runs:
  using: "composite"
  steps:
    - name: "Sudo fails"
      shell: bash
      run: |
        if [ $(sudo echo "test") -eq 0 ]; then
          echo "sudo should fail, but didn't"
          echo "- ❌ sudo should fail, but didn't" >> $GITHUB_STEP_SUMMARY
          exit 1
        else
          echo "sudo failed as expected"
          echo "- ✅ sudo failed as expected" >> $GITHUB_STEP_SUMMARY
          exit 0
        fi